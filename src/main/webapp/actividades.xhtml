<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
	<ui:composition template="templates/defaultLayout.xhtml">
	
	<ui:define name="content">
		<div id="content" class="paddedContent">
				<b:container>
					<b:row>	
						<h:form>
							<b:commandButton styleClass="addButton" type="submit"
								value="#{msg['actividadessAdd']}"
								action="#{NavigationBean.goToNewActividad()}" />
						</h:form>
					</b:row>
					<b:row>	
	    				<div id="homeIcon">		
	    					<h:form>
								<h:link outcome="#{NavigationBean.goToHome()}">
									<h:graphicImage style="width:100%" value="resources/homeicon.png" />
								</h:link>
							</h:form>
						</div>
						<ui:repeat value="#{actividadesBean.getAllActividades()}" var="actividad" varStatus="estado">
						<div class="viewAlumnos">							
							<h:form>
								<h:commandLink action="#{actividadesDetailsBean.getDetailsActividad(actividad.id)}">
									<h2>
										<h:outputText value="#{actividad.nombre}" />
									</h2>
									
									<h:outputLabel><div class="descriptores">#{msg['addActivityParticipants']}:  </div></h:outputLabel>
									<h:outputText value=" #{actividadesBean.contadorAlumnosActividad(actividad.id)}" />
									<h:outputText value="/" />
									<h:outputText value="#{actividad.participantes}" />
									<br />
									<h:outputLabel><div class="descriptores">#{msg['addActivityTeacher']}:  </div></h:outputLabel><h:outputText value=" #{actividad.monitor.nombre}" />
									<br />
									<h:outputLabel><div class="descriptores">#{msg['addActivityDate']}:  </div></h:outputLabel><h:outputText value=" #{actividad.horario}" />
									<br />
									<h:outputLabel><div class="descriptores">#{msg['addActivityPlace']}:  </div></h:outputLabel><h:outputText value=" #{actividad.lugar}" />
									<br />
									<ui:repeat value="#{actividadesBean.getAllAlumnosFromActividad(actividad.id)}" var="alumno" varStatus="estado">
										<h:outputText value="#{alumno.nombre}" />
										<br />
									</ui:repeat>
									<br />
									<br />			
									
								</h:commandLink>
							</h:form>
						</div>	
						</ui:repeat>
					</b:row>
				</b:container>
		</div>
				
	</ui:define>
	</ui:composition>

</html>